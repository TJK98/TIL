# TIL - 2025.05.14 - GitHub 협업 방식(PR, Fork)과 브랜치 보호 전략 개념 이해

## 카테고리 🏷️

#TIL #Git #GitHub #Collaboration #PullRequest #Fork #BranchStrategy

---

## 오늘 배운 내용 🔍

- 안전한 협업을 위한 Feature Branch 워크플로우의 개념
- 코드 리뷰 기반의 협업 방식인 Pull Request(PR)의 전체 흐름
- 협업 모델의 두 가지 방식: Collaborator (내부 팀원) vs. Fork (외부 기여자)
- `main` 브랜치의 안정성을 보장하기 위한 Protected Branch 설정
- Fork 기반 오픈소스 기여 방식과 `upstream` 원격 저장소 동기화
- 프로젝트의 정보를 담는 `README.md`의 역할과 기본 마크다운 문법

---

## 어려웠던 점 💣

* Collaborator와 Fork 방식 모두 외부의 기여를 허용한다는 점에서 비슷해 보였지만, 그 권한과 절차는 근본적으로 달랐다. Collaborator는 저장소에 직접 쓰기 권한을 부여받는 '내부자'
  방식이고, Fork는 저장소를 복제하여 별도 공간에서 작업 후 PR로 기여를 '요청'하는 '외부자' 방식이라는 차이를 구분하는 것이 중요했다.

---

## 정리 🖇️

### 1. Git 협업 워크플로우 비교

안정적인 프로젝트 관리를 위한 브랜치 전략을 학습했다.

| 항목         | 중앙집중형 워크플로우              | Feature Branch 워크플로우      |
|:-----------|:-------------------------|:--------------------------|
| **브랜치 구조** | `main` 하나를 중심으로 작업       | 기능별 브랜치를 생성하여 작업          |
| **협업 방식**  | 모두 같은 브랜치에 직접 커밋         | 개별 브랜치에서 작업 후 `main`에 병합  |
| **안정성**    | `main` 브랜치가 불안정해질 위험이 높음 | `main` 브랜치는 항상 안정적인 상태 유지 |

---

### 2. 두 가지 협업 모델: Collaborator vs. Fork

프로젝트의 성격과 참여자의 신뢰 수준에 따라 기여자를 관리하는 두 가지 방식을 학습했다.

| 구분          | Collaborator        | Fork 기반 기여                        |
|:------------|:--------------------|:----------------------------------|
| **위치**      | 원본 저장소에 직접 접근하여 작업  | 내 계정으로 복제(Fork)한 저장소에서 작업         |
| **권한**      | 저장소에 직접 `push` 가능   | `push` 권한 없음. Pull Request로 병합 요청 |
| **주 사용 환경** | 내부 팀 프로젝트, 신뢰 기반 협업 | 오픈소스, 외부 기여자 협업                   |

---

### 3. Pull Request(PR)와 Fork 기반 기여 흐름

코드 리뷰 기반의 협업 방식인 Pull Request와 Fork를 이용한 기여 절차를 학습했다.

* **학습 목표 (Why?)**:
  내 코드를 동료에게 검토(Code Review)받고, 충분한 논의를 거쳐 안전하게 `main` 브랜치에 통합하기 위함이다. 이는 코드 품질을 높이고 잠재적인 버그를 사전에 발견하는 데 핵심적인 역할을 한다.

* **핵심 원리 (What?)**:
  Pull Request(PR)는 "내가 작업한 브랜치의 내용을 당신의 브랜치로 병합해 주세요"라고 공식적으로 요청하는 기능이다. Fork 기반 협업에서는 내 원격 저장소(`origin`)와 원본 프로젝트 저장소(
  `upstream`) 사이의 관계를 이해하는 것이 중요하다.

* **문법 및 사용법 (How?)**: (Fork 기반 기여 흐름)

1. 기여하고 싶은 원본 저장소를 GitHub에서 **Fork**한다.
2. Fork로 생성된 **내 원격 저장소**를 로컬에 `clone`한다.
3. `git remote add upstream <원본 저장소 주소>` 명령어로 원본 저장소를 `upstream`으로 등록한다.
4. 작업 전, `git pull upstream main` 명령어로 원본 저장소의 최신 변경사항을 동기화한다.
5. 새로운 기능 브랜치를 생성하여 작업 후, `git push origin <내 기능 브랜치>`로 **내 원격 저장소**에 올린다.
6. GitHub에서 내 저장소의 브랜치를 **원본 저장소(`upstream`)**의 `main` 브랜치로 보내는 PR을 생성한다.

---

### 4. 저장소 보호 전략: Protected Branch

`main`과 같이 중요한 브랜치에 의도치 않은 변경이 발생하는 것을 막는 기술적인 안전장치를 학습했다.

* **학습 목표 (Why?)**:
  핵심 브랜치의 안정성과 코드 품질을 강제하기 위함이다. 사람이 실수하더라도 시스템이 최소한의 규칙을 지켜주도록 설정하는 것이다.

* **핵심 원리 (What?)**:
  GitHub 저장소의 `Settings > Branches` 메뉴에서 설정하며, 다음과 같은 규칙을 강제할 수 있다.
* PR을 통해서만 병합 허용 (직접 `push` 금지)
* 지정된 수 이상의 리뷰 승인 필수
* 강제 푸시(`force push`) 금지
* 자동화된 테스트 통과 필수

---

## 오늘의 깨달음 💡

* GitHub 협업은 단순히 코드를 공유하는 것을 넘어, '권한 관리', '코드 리뷰', '브랜치 무결성 유지'를 포함하는 체계적인 **프로세스를 설계**하는 것임을 이해했다.

* Protected Branch는 `main` 브랜치의 안정성을 보장하는 기술적인 안전장치이자, 팀의 코드 품질을 유지하기 위한 최소한의 규칙임을 깨달았다. 이는 '실수하지 말자'는 약속을 넘어, '실수할 수 없는
  환경'을 만드는 것이다.